//
//  HOLPicture.m
//  HymOnline
//
//  Created by Joe Cora on 4/3/10.
//  Copyright 2010 Ohio State University. All rights reserved.
//

#import "HOLPicture.h"

@implementation HOLPicture

@synthesize photoSource;
@synthesize urlThumbnail;
@synthesize urlCompressed;
@synthesize caption;
@synthesize size;
@synthesize index;

// Public functions
- (id)initWithThumbnail:(NSString *)thumb compressed:(NSString *)compress caption:(NSString *)imageCaption size:(CGSize)imageSize {
	self = [super init];
	
	self.urlThumbnail = [thumb stringByAddingPercentEscapesUsingEncoding:NSISOLatin1StringEncoding];
	self.urlCompressed = [compress stringByAddingPercentEscapesUsingEncoding:NSISOLatin1StringEncoding];
	self.caption = imageCaption;
	self.size = imageSize;
	
    return self;
}

#pragma mark -
#pragma mark TTPhoto protocol

- (NSString*)URLForVersion:(TTPhotoVersion)version {
	if (version == TTPhotoVersionThumbnail && self.urlThumbnail) {
		return self.urlThumbnail;
	} else {
		return self.urlCompressed;
	}
}

#pragma mark -
#pragma mark Memory management

- (void)dealloc {
	[self.urlThumbnail release];
	[self.urlCompressed release];
	[self.caption release];
    [super dealloc];
}

@end
